(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{29:function(n,t,e){},35:function(n,t,e){"use strict";e.r(t);var i,o=e(2),r=e(0),c=e.n(r),a=e(20),s=e.n(a),l=(e(29),e(5)),u=e(3),f=e(4),d=e(7),h=e(8),b=function(){function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(d.a)(this,n),this.x=t,this.y=e,this.hasMine=i,this.isRevealed=o,this.hasFlag=r,this.proximity=c}return Object(h.a)(n,[{key:"reveal",value:function(){this.isRevealed=!0}},{key:"toggleFlag",value:function(){this.hasFlag=!this.hasFlag}}]),n}(),j=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],g=function(){function n(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(d.a)(this,n),this.rows=t,this.columns=e,this.nMines=i,this.field=o,this.minesCoordinates=r,this.buildBoard()}return Object(h.a)(n,[{key:"_getRandomCoordinate",value:function(n,t){return Math.floor(Math.random()*(t-n+1))+n}},{key:"checkLimits",value:function(n,t){return n>=0&&n<=this.rows-1&&t>=0&&t<=this.columns-1}},{key:"_defineMineProximity",value:function(){var n,t=Object(l.a)(this.minesCoordinates);try{for(t.s();!(n=t.n()).done;){var e,i=Object(f.a)(n.value,2),o=i[0],r=i[1],c=Object(l.a)(j);try{for(c.s();!(e=c.n()).done;){var a=Object(f.a)(e.value,2),s=a[0],u=r+a[1],d=o+s;this.checkLimits(u,d)&&!this.field[u][d].hasMine&&this.field[u][d].proximity++}}catch(h){c.e(h)}finally{c.f()}}}catch(h){t.e(h)}finally{t.f()}}},{key:"_placeMines",value:function(){for(var n=0;n<this.nMines;){var t=[this._getRandomCoordinate(0,this.columns-1),this._getRandomCoordinate(0,this.rows-1)],e=t[0],i=t[1],o=this.field[i][e];o.hasMine||(o.hasMine=!0,n++,this.minesCoordinates.push([e,i]))}this._defineMineProximity()}},{key:"buildBoard",value:function(){this.field=[];for(var n=0;n<this.rows;n++){this.field.push([]);for(var t=0;t<this.columns;t++)this.field[n].push(new b(t,n))}this._placeMines()}},{key:"showAllMines",value:function(){var n,t=Object(l.a)(this.minesCoordinates);try{for(t.s();!(n=t.n()).done;){var e=Object(f.a)(n.value,2),i=e[0],o=e[1];this.field[o][i].reveal()}}catch(r){t.e(r)}finally{t.f()}}}]),n}();!function(n){n[n.INPROGRESS=0]="INPROGRESS",n[n.GAMEOVER=1]="GAMEOVER",n[n.VICTORY=2]="VICTORY"}(i||(i={}));var v={EASY:{difficulty:"EASY",rows:10,columns:10,mines:15},MEDIUM:{difficulty:"MEDIUM",rows:15,columns:15,mines:35},HARD:{difficulty:"HARD",rows:15,columns:20,mines:50}},O=e(15),m=e(17),y=["#2d2fa3","rgb(57, 128, 25)","rgb(211, 76, 22)","rgb(204, 19, 19)","rgb(156, 6, 56)"],p="rgb(170, 219, 124)",x="rgb(133, 201, 130)",R="rgb(180, 156, 125)",E="rgb(156, 138, 115)",M=e(9),w=e(10);function k(){var n=Object(M.a)(["\nwidth: 35px;\nheight: 35px;\nposition: relative;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nfont-weight: 600;\ncolor: ",";\nbackground-color: ",";\n> svg#flag {\n  color: rgb(204, 19, 19);\n}\n> svg {\n  color: ",';\n  font-size: 1.2rem;\n}\n::after {\n  content: "";\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n:hover::after {\n  background-color: ',";\n}\n"]);return k=function(){return n},n}var S=w.a.div(k(),(function(n){return n.color}),(function(n){return n.bg}),(function(n){return n.mineColor}),(function(n){return!n.isRevealed&&"rgba(255, 255, 255, 0.253)"})),C=Object(r.memo)((function(n){var t=n.x,e=n.y,i=n.isRevealed,r=n.hasFlag,c=n.hasMine,a=n.proximity,s=n.onLeftClick,l=n.onRightClick,u=function(){var n=function(n){return n?[R,E]:[p,x]}(i);return e%2===0?t%2===0?n[0]:n[1]:t%2===0?n[1]:n[0]}(),f=y[Math.round(Math.random()*y.length)];return Object(o.jsxs)(S,{bg:u,color:y[a],mineColor:f,isRevealed:i,onClick:function(){s(e,t)},onContextMenu:function(n){n.preventDefault(),l(e,t)},children:[r&&!i&&Object(o.jsx)(O.a,{icon:m.b,id:"flag"}),c&&i&&Object(o.jsx)(O.a,{icon:m.a}),i&&a>0&&Object(o.jsx)("p",{children:a})]})}));function A(n){var t=n.field,e=n.showAndExpand,i=n.toggleFlag;return Object(o.jsx)("div",{children:t.map((function(n,t){return Object(o.jsx)("div",{style:{display:"flex"},children:n.map((function(n,t){return Object(o.jsx)(C,Object(u.a)(Object(u.a)({},n),{},{onLeftClick:e,onRightClick:i}),"col-".concat(t))}))},"row-".concat(t))}))})}function Y(){var n=Object(M.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  position: absolute;\n  flex-direction: column;\n  z-index: 300;\n  background-color: rgba(255, 255, 255, 0.233);\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  h2 {\n    display: block;\n    font-size: 3rem;\n    color: #e07918;\n    margin-bottom: 10px;\n  }\n  button {\n    text-transform: uppercase;\n    padding: 10px 20px;\n    font-size: 1.1rem;\n    border: none;\n    background-color: #2d61f1;\n    color: white;\n    :hover {\n      background-color: #3b6df8;\n    }\n  }\n"]);return Y=function(){return n},n}var I=w.a.div(Y());function F(){var n=Object(r.useState)({difficulty:v.EASY,status:i.INPROGRESS,board:new g(v.EASY.rows,v.EASY.columns,v.EASY.mines)}),t=Object(f.a)(n,2),e=t[0],c=t[1],a=Object(r.useState)(v.EASY.rows*v.EASY.columns-v.EASY.mines),s=Object(f.a)(a,2),d=s[0],h=s[1],b=Object(r.useState)(0),O=Object(f.a)(b,2),m=O[0],y=O[1];Object(r.useEffect)((function(){0===d&&c((function(n){return Object(u.a)(Object(u.a)({},n),{},{status:i.VICTORY})}))}),[d]);var p=function(){c((function(n){return Object(u.a)(Object(u.a)({},n),{},{status:i.INPROGRESS,board:new g(n.difficulty.rows,n.difficulty.columns,n.difficulty.mines)})})),h(e.difficulty.rows*e.difficulty.columns-e.difficulty.mines),y(0)};return Object(o.jsxs)("div",{style:{position:"relative"},children:[e.status===i.VICTORY&&Object(o.jsxs)(I,{children:[Object(o.jsx)("h2",{children:"VICTORY"}),Object(o.jsx)("button",{onClick:p,children:"play again"})]}),e.status===i.GAMEOVER&&Object(o.jsxs)(I,{children:[Object(o.jsx)("h2",{children:"GAMEOVER"}),Object(o.jsx)("button",{onClick:p,children:"try again"})]}),Object(o.jsx)(A,Object(u.a)(Object(u.a)({},e.board),{},{showAndExpand:function n(t,o){var r=e.board.field[t][o];if(!r.isRevealed&&!r.hasFlag){if(r.hasMine)return e.board.showAllMines(),void c((function(n){return Object(u.a)(Object(u.a)({},n),{},{status:i.GAMEOVER})}));if(r.reveal(),h((function(n){return n-1})),!(r.proximity>0)){var a,s=Object(l.a)(j);try{for(s.s();!(a=s.n()).done;){var d=Object(f.a)(a.value,2),b=d[0],g=d[1];b+=o,g+=t,e.board.checkLimits(g,b)&&n(g,b)}}catch(v){s.e(v)}finally{s.f()}}}},toggleFlag:function(n,t){if(e.status===i.INPROGRESS){var o=e.board.field[n][t];o.hasFlag?(y((function(n){return n-1})),o.toggleFlag()):m<e.difficulty.mines&&(y((function(n){return n+1})),o.toggleFlag())}}}))]})}var G=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(F,{})})};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(G,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.898f4ca4.chunk.js.map