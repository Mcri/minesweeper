(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{29:function(n,t,e){},35:function(n,t,e){"use strict";e.r(t);var i,r=e(1),o=e(0),s=e.n(o),c=e(20),a=e.n(c),l=(e(29),e(7)),u=e(3),f=e(4),d=e(11),h=e(12),b=function(){function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(d.a)(this,n),this.x=t,this.y=e,this.hasMine=i,this.isRevealed=r,this.hasFlag=o,this.proximity=s}return Object(h.a)(n,[{key:"reveal",value:function(){this.isRevealed=!0}},{key:"toggleFlag",value:function(){this.hasFlag=!this.hasFlag}}]),n}(),j=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],g=function(){function n(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(d.a)(this,n),this.rows=t,this.columns=e,this.nMines=i,this.field=r,this.minesCoordinates=o,this.buildBoard()}return Object(h.a)(n,[{key:"_getRandomCoordinate",value:function(n,t){return Math.floor(Math.random()*(t-n+1))+n}},{key:"checkLimits",value:function(n,t){return n>=0&&n<=this.rows-1&&t>=0&&t<=this.columns-1}},{key:"_defineMineProximity",value:function(){var n,t=Object(l.a)(this.minesCoordinates);try{for(t.s();!(n=t.n()).done;){var e,i=Object(f.a)(n.value,2),r=i[0],o=i[1],s=Object(l.a)(j);try{for(s.s();!(e=s.n()).done;){var c=Object(f.a)(e.value,2),a=c[0],u=o+c[1],d=r+a;this.checkLimits(u,d)&&!this.field[u][d].hasMine&&this.field[u][d].proximity++}}catch(h){s.e(h)}finally{s.f()}}}catch(h){t.e(h)}finally{t.f()}}},{key:"_placeMines",value:function(){for(var n=0;n<this.nMines;){var t=[this._getRandomCoordinate(0,this.columns-1),this._getRandomCoordinate(0,this.rows-1)],e=t[0],i=t[1],r=this.field[i][e];r.hasMine||(r.hasMine=!0,n++,this.minesCoordinates.push([e,i]))}this._defineMineProximity()}},{key:"buildBoard",value:function(){this.field=[];for(var n=0;n<this.rows;n++){this.field.push([]);for(var t=0;t<this.columns;t++)this.field[n].push(new b(t,n))}this._placeMines()}},{key:"showAllMines",value:function(){var n,t=Object(l.a)(this.minesCoordinates);try{for(t.s();!(n=t.n()).done;){var e=Object(f.a)(n.value,2),i=e[0],r=e[1];this.field[r][i].reveal()}}catch(o){t.e(o)}finally{t.f()}}}]),n}();!function(n){n[n.INPROGRESS=0]="INPROGRESS",n[n.GAMEOVER=1]="GAMEOVER",n[n.VICTORY=2]="VICTORY"}(i||(i={}));var v={EASY:{difficulty:"EASY",rows:10,columns:10,mines:15},MEDIUM:{difficulty:"MEDIUM",rows:15,columns:15,mines:35},HARD:{difficulty:"HARD",rows:15,columns:20,mines:50}},O=e(8),m=e(9),x=["#2d2fa3","rgb(57, 128, 25)","rgb(211, 76, 22)","rgb(204, 19, 19)","rgb(156, 6, 56)"],p="rgb(170, 219, 124)",y="rgb(133, 201, 130)",R="rgb(180, 156, 125)",E="rgb(156, 138, 115)",w=e(5),M=e(6);function k(){var n=Object(w.a)(["\n  width: 35px;\n  height: 35px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n  color: ",";\n  background-color: ",";\n  > svg#flag {\n    color: rgb(204, 19, 19);\n  }\n  > svg {\n    color: ",';\n    font-size: 1.2rem;\n  }\n  ::after {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n  :hover::after {\n    background-color: ',";\n  }\n"]);return k=function(){return n},n}var S=M.a.div(k(),(function(n){return n.color}),(function(n){return n.bg}),(function(n){return n.mineColor}),(function(n){return!n.isRevealed&&"rgba(255, 255, 255, 0.253)"})),A=Object(o.memo)((function(n){var t=n.x,e=n.y,i=n.isRevealed,o=n.hasFlag,s=n.hasMine,c=n.proximity,a=n.onLeftClick,l=n.onRightClick,u=function(){var n=function(n){return n?[R,E]:[p,y]}(i);return e%2===0?t%2===0?n[0]:n[1]:t%2===0?n[1]:n[0]}(),f=x[Math.round(Math.random()*x.length)];return Object(r.jsxs)(S,{bg:u,color:x[c],mineColor:f,isRevealed:i,onClick:function(){a(e,t)},onContextMenu:function(n){n.preventDefault(),l(e,t)},children:[o&&!i&&Object(r.jsx)(O.a,{icon:m.b,id:"flag"}),s&&i&&Object(r.jsx)(O.a,{icon:m.a}),i&&c>0&&Object(r.jsx)("p",{children:c})]})}));function C(n){var t=n.field,e=n.showAndExpand,i=n.toggleFlag;return Object(r.jsx)("div",{children:t.map((function(n,t){return Object(r.jsx)("div",{style:{display:"flex"},children:n.map((function(n,t){return Object(r.jsx)(A,Object(u.a)(Object(u.a)({},n),{},{onLeftClick:e,onRightClick:i}),"col-".concat(t))}))},"row-".concat(t))}))})}function I(){var n=Object(w.a)(["\n  display: flex;\n  justify-content: space-between;\n  text-transform: uppercase;\n  font-weight: 600;\n  margin-bottom: 10px;\n  color: rgb(133, 201, 130);\n  svg#flag {\n    color: rgb(204, 19, 19);\n  }\n  > #restart:hover {\n    text-decoration: underline;\n  }\n"]);return I=function(){return n},n}var Y=M.a.section(I());function F(n){var t=n.nFlags,e=n.reset;return Object(r.jsxs)(Y,{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)(O.a,{icon:m.b,id:"flag"})," ",t]}),Object(r.jsx)("span",{children:"Minesweeper"}),Object(r.jsx)("span",{id:"restart",onClick:e,children:"RESTART"})]})}function G(){var n=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  position: absolute;\n  flex-direction: column;\n  z-index: 300;\n  background-color: rgba(255, 255, 255, 0.233);\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  h2 {\n    display: block;\n    font-size: 3rem;\n    color: #e07918;\n    margin-bottom: 10px;\n  }\n  button {\n    text-transform: uppercase;\n    padding: 10px 20px;\n    font-size: 1.1rem;\n    border: none;\n    background-color: #2d61f1;\n    color: white;\n    :hover {\n      background-color: #3b6df8;\n    }\n  }\n"]);return G=function(){return n},n}var V=M.a.div(G());function P(n){var t=n.state,e=n.reset,o=t===i.GAMEOVER?"GAMEOVER":t===i.VICTORY?"VICTORY":void 0;return Object(r.jsxs)(V,{children:[Object(r.jsx)("h2",{children:o}),Object(r.jsx)("button",{onClick:e,children:"Play again"})]})}function N(){var n=Object(o.useState)({difficulty:v.EASY,status:i.INPROGRESS,board:new g(v.EASY.rows,v.EASY.columns,v.EASY.mines)}),t=Object(f.a)(n,2),e=t[0],s=t[1],c=Object(o.useState)(v.EASY.rows*v.EASY.columns-v.EASY.mines),a=Object(f.a)(c,2),d=a[0],h=a[1],b=Object(o.useState)(0),O=Object(f.a)(b,2),m=O[0],x=O[1];Object(o.useEffect)((function(){0===d&&s((function(n){return Object(u.a)(Object(u.a)({},n),{},{status:i.VICTORY})}))}),[d]);var p=function(){s((function(n){return Object(u.a)(Object(u.a)({},n),{},{status:i.INPROGRESS,board:new g(n.difficulty.rows,n.difficulty.columns,n.difficulty.mines)})})),h(e.difficulty.rows*e.difficulty.columns-e.difficulty.mines),x(0)};return Object(r.jsxs)("main",{children:[Object(r.jsx)(F,{nFlags:e.difficulty.mines-m,reset:p}),Object(r.jsxs)("section",{style:{position:"relative"},children:[e.status!==i.INPROGRESS&&Object(r.jsx)(P,{reset:p,state:e.status}),Object(r.jsx)(C,Object(u.a)(Object(u.a)({},e.board),{},{showAndExpand:function n(t,r){var o=e.board.field[t][r];if(!o.isRevealed&&!o.hasFlag){if(o.hasMine)return e.board.showAllMines(),void s((function(n){return Object(u.a)(Object(u.a)({},n),{},{status:i.GAMEOVER})}));if(o.reveal(),h((function(n){return n-1})),!(o.proximity>0)){var c,a=Object(l.a)(j);try{for(a.s();!(c=a.n()).done;){var d=Object(f.a)(c.value,2),b=d[0],g=d[1];b+=r,g+=t,e.board.checkLimits(g,b)&&n(g,b)}}catch(v){a.e(v)}finally{a.f()}}}},toggleFlag:function(n,t){if(e.status===i.INPROGRESS){var r=e.board.field[n][t];r.hasFlag?(x((function(n){return n-1})),r.toggleFlag()):m<e.difficulty.mines&&(x((function(n){return n+1})),r.toggleFlag())}}}))]})]})}var T=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(N,{})})};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(T,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.c1f70d57.chunk.js.map